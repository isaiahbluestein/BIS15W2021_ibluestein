knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
options(scipen=999) #disables scientific notation when printing
population <- read_csv(here("data", "population_total.csv"))
income <- read_csv(here("midterm2", "data", "income_per_person_gdppercapita_ppp_inflation_adjusted.csv"))
income
life_expectancy <- read_csv(here("midterm2", "data", "life_expectancy_years.csv"))
life_expectancy
population <- read_csv(here("midterm2", "data", "population_total.csv"))
population
glimpse(country)
glimpse(country)
glimpse(population)
glimpse(life_expectancy)
population_tidy <- population %>%
pivot_longer(
names_to="year",
values_to= "population"
)
#limpse(population)
#glimpse(life_expectancy)
population_tidy <- population %>%
pivot_longer(-country,
names_to="year",
values_to= "population"
)
population_tidy
income_tidy <- population %>%
pivot_longer(-country,
names_to="year",
values_to= "income"
)
income_tidy
income_tidy <- income %>%
pivot_longer(-country,
names_to="year",
values_to= "income"
)
income_tidy
life_expectancy_tidy <- life_expectancy %>%
pivot_longer(-country,
names_to="year",
values_to= "life_expectancy"
)
life_expectancy_tidy
population %>%
count(country)
population %>%
n_distinct(country)
population
population %>%
count(country)
population %>%
select(country)
population %>%
select(country)
#there are 195 countries
life_expectancy %>%
select(country)
#there are 195 countries
income %>%
select(country)
#there are 195 countries
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
summarise(mean_life_exp = mean(life_expectancy)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
summarize(mean_life_exp = mean(life_expectancy))
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy))
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy), na.rm = T)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy) na.rm = T)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy), na.rm = T)
population_tidy <- population %>%
pivot_longer(-country,
names_to="year",
values_to= "population_value"
)
population_tidy
income_tidy <- income %>%
pivot_longer(-country,
names_to="year",
values_to= "income_value"
)
income_tidy
life_expectancy_tidy <- life_expectancy %>%
pivot_longer(-country,
names_to="year",
values_to= "life_expectancy_value"
)
life_expectancy_tidy
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country, life_expectancy_value) %>%
summarize(mean_life_exp = mean(life_expectancy_value), na.rm = T)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value), na.rm = T)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value, na.rm = T)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value))
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value))
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
max(mean_life_exp)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
arrange(desc(mean_life_exp))
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
top_n(1)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
top_n(-1)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
arrange(desc(mean_life_exp))
top_n(1)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
arrange(desc(mean_life_exp)) %>%
top_n(1)
life_expectancy_tidy %>%
filter(year >= 1920 & year <= 2020) %>%
filter(life_expectancy_value != "NA") %>%
group_by(country) %>%
summarize(mean_life_exp = mean(life_expectancy_value)) %>%
arrange(desc(mean_life_exp)) %>%
top_n(-1)
life_expectancy %>%
select(1920 & 2020) %>%
group_by(country) %>%
mutate(life_exp_change = final_pop - initial_pop) %>%
arrange(desc(pop_growth))
life_expectancy %>%
select(1920 & 2020) %>%
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, 1990, 2020) %>%
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
mutate(life_exp_change = "2020" - "1920") %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
mutate(life_exp_change = "2020" - "1920") %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020")
life_expectancy %>%
select(country, "1920", "2020") %>%
filter(1920 != "NA" & 2020 != "NA")
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
filter("1920" != "NA" & "2020" != "NA")
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
select(country, "1920", "2020") %>%
filter(1920 != "NA" & 2020 != "NA")
mutate(life_exp_change = 2020 - 1920) %>%
arrange(desc(life_exp_change))
life_expectancy %>%
rename(1920 == initial)
life_expectancy %>%
rename(1920 == "initial")
life_expectancy %>%
rename(1920 = "initial")
life_expectancy %>%
rename(1920 = initial)
life_expectancy %>%
rename("1920" = initial)
life_expectancy %>%
rename(initial = 1920)
life_expectancy %>%
rename(initial = "1920")
life_expectancy_2 <- life_expectancy %>%
rename(initial = "1920", final = "2020")
life_expectancy_2 %>%
select(country, initial, final) %>%
filter(initial != "NA" & final != "NA")
mutate(life_exp_change = final - initial) %>%
arrange(desc(life_exp_change))
life_expectancy_2 %>%
select(country, initial, final) %>%
filter(initial != "NA" & final != "NA") %>%
mutate(life_exp_change = final - initial) %>%
arrange(desc(life_exp_change))
life_expectancy_2 %>%
select(country, initial, final) %>%
filter(initial != "NA" & final != "NA") %>%
mutate(life_exp_change = final - initial) %>%
arrange(desc(life_exp_change)) %>%
top_n(5)
life_expectancy_tidy %>%
filter(country == Kuwait)
life_expectancy_tidy %>%
filter(country == "Kuwait")
life_expectancy_tidy %>%
filter(country == "Kuwait") %>%
filter(year >= 1920 & year <= 2020)
life_expectancy_tidy %>%
filter(country == "Kuwait") %>%
filter(year >= 1920 & year <= 2020) %>%
ggplot(aes(x = year, y = life_expectancy_value))+
geom_line()+
geom_point(shape=1)+
labs(title = "Kuwait Life Expectancy",
x = "Year",
y= "Life Expectancy")+
theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country == "Kuwait") %>%
filter(year >= 1920 & year <= 2020) %>%
ggplot(aes(x = year, y = life_expectancy_value))+
geom_line()+
geom_point(shape=1)+
labs(title = "Kuwait Life Expectancy",
x = "Year",
y= "Life Expectancy")+
scale_x_discrete(breaks=c(1920,1940,1960,1980,2000,2020))+
theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
population %>%
select(country, 1920, 2020) %>%
filter(1920 != "NA" & 2020 != "NA") %>%
mutate(population_change = 2020 - 1920) %>%
arrange(desc(population_change)) %>%
top_n(5)
population %>%
select(country, 1920, 2020) %>%
filter(1920 != "NA" & 2020 != "NA") %>%
mutate(population_change = "2020" - "1920") %>%
arrange(desc(population_change)) %>%
top_n(5)
population %>%
select(country, 1920, 2020) %>%
filter(1920 != "NA" & 2020 != "NA") %>%
mutate(population_change = 2020 - 1920) %>%
arrange(desc(population_change)) %>%
top_n(5)
population %>%
select(country, 1920, 2020) %>%
filter(1920 != "NA" & 2020 != "NA") %>%
mutate(population_change = "2020" - "1920") %>%
arrange(desc(population_change)) %>%
top_n(5)
life_expectancy_tidy %>%
filter(country = Andorra)
life_expectancy_tidy %>%
filter(country = Andora)
life_expectancy_tidy %>%
filter(country = "Andorra")
population_2 %>%
rename(final = 2020, initial = 1990)
population_2 %>%
rename(final = "2020", initial = "1990")
population_2 <- population %>%
rename(final = "2020", initial = "1990")
population_2 %>%
select(country, 1920, 2020) %>%
mutate(population_change = "2020" - "1920") %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 %>%
select(country, 1920, 2020) %>%
mutate(population_change = "final" - "initial") %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 %>%
select(country, final, initial) %>%
mutate(population_change = "final" - "initial") %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 %>%
select(country, final, initial) %>%
mutate(population_change = final - initial) %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 %>%
select(country, final, initial) %>%
filter(final != "NA" & initial != "NA") %>%
mutate(population_change = final - initial) %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 %>%
select(country, final, initial) %>%
mutate(population_change = final - initial) %>%
arrange(desc(population_change)) %>%
top_n(5)
population_2 <- population %>%
rename(final = "2020", initial = "1920")
population_2 %>%
select(country, final, initial) %>%
mutate(population_change = final - initial) %>%
arrange(desc(population_change)) %>%
top_n(5)
life_expectancy_2 %>%
select(country, initial, final) %>%
mutate(life_exp_change = final - initial) %>%
arrange(desc(life_exp_change)) %>%
top_n(5)
